/**
 * Bootbox.js â€” alert, confirm, prompt, and flexible dialogs for the Bootstrap framework 
 * @version: 6.0.0
 * @project: https://github.com/bootboxjs/bootbox
 * @license: MIT http://bootboxjs.com/license.txt
 */
!function(e,t){'use strict';'function'==typeof define&&define.amd?define(['bootstrap'],t):'object'==typeof exports?module.exports=t(require('bootstrap')):e.bootbox=t(e.bootstrap)}(this,function t(o,k){'use strict';const E={};E.VERSION='6.0.0';const p={en:{OK:'OK',CANCEL:'Cancel',CONFIRM:'OK'}},L={dialog:'<div class="bootbox modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="bootbox-body"></div></div></div></div></div>',header:'<div class="modal-header"><h5 class="modal-title"></h5></div>',footer:'<div class="modal-footer"></div>',closeButton:'<button type="button" class="bootbox-close-button close btn-close" aria-hidden="true" aria-label="Close"></button>',form:'<form class="bootbox-form"></form>',button:'<button type="button" class="btn"></button>',option:'<option value=""></option>',promptMessage:'<div class="bootbox-prompt-message"></div>',inputs:{text:'<input class="bootbox-input bootbox-input-text form-control" autocomplete="off" type="text" />',textarea:'<textarea class="bootbox-input bootbox-input-textarea form-control"></textarea>',email:'<input class="bootbox-input bootbox-input-email form-control" autocomplete="off" type="email" />',select:'<select class="bootbox-input bootbox-input-select form-select"></select>',checkbox:'<div class="form-check checkbox"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-checkbox" type="checkbox" /></label></div>',radio:'<div class="form-check radio"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-radio" type="radio" name="bootbox-radio" /></label></div>',date:'<input class="bootbox-input bootbox-input-date form-control" autocomplete="off" type="date" />',time:'<input class="bootbox-input bootbox-input-time form-control" autocomplete="off" type="time" />',number:'<input class="bootbox-input bootbox-input-number form-control" autocomplete="off" type="number" />',password:'<input class="bootbox-input bootbox-input-password form-control" autocomplete="off" type="password" />',range:'<input class="bootbox-input bootbox-input-range form-control-range" autocomplete="off" type="range" />'}},S={locale:'en',backdrop:'static',animate:!0,className:null,closeButton:!0,show:!0,container:'body',value:'',inputType:'text',errorMessage:null,swapButtonOrder:!1,centerVertical:!1,multiple:!1,scrollable:!1,reusable:!1,relatedTarget:null,size:null,id:null};function d(e,t,o){return function e(t,...o){if(!t)return{};for(const n of o)if(n)for(var[r,a]of Object.entries(n))switch(Object.prototype.toString.call(a)){case'[object Object]':t[r]=t[r]||{},t[r]=e(t[r],a);break;case'[object Array]':t[r]=e(new Array(a.length),a);break;default:t[r]=a}return t}({},e,function(e,t){var o=e.length;let r={};if(o<1||2<o)throw new Error('Invalid argument length');return 2===o||'string'==typeof e[0]?(r[t[0]]=e[0],r[t[1]]=e[1]):r=e[0],r}(t,o))}function O(e,t,o,r){let a;var n,s,i,l,e=d({className:"bootbox-"+e,buttons:function(o,r){var a={};for(let e=0,t=o.length;e<t;e++){var n=o[e],s=n.toLowerCase(),n=n.toUpperCase();a[s]={label:function(e,t){t=p[t];return(t||p.en)[e]}(n,r)}}return a}(t=r&&r[0]&&(a=r[0].locale||S.locale,r[0].swapButtonOrder||S.swapButtonOrder)?t.reverse():t,a)},r,o),c=t,u={};for([n,s]of Object.entries(c))u[s]=!0;for([i,l]of Object.entries(e.buttons))if(u[i]===k)throw new Error(`button key "${i}" is not allowed (options are ${c.join(' ')})`);return e}function u(e){return Object.keys(e).length}function A(){f(de.data.dialog.querySelector('.bootbox-accept').first(),'focus')}function b(e,t,o){e.stopPropagation(),e.preventDefault(),'function'==typeof o&&!1===o.call(t,e)||!t||bootstrap.Modal.getInstance(t).hide()}function q(e){return/([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(e)}function T(e){return/(\d{4})-(\d{2})-(\d{2})/.test(e)}function f(e,t){'string'==typeof t&&'function'==typeof e[t]?e[t]():(t='string'==typeof t?new Event(t,{bubbles:!0}):t,e.dispatchEvent(t))}function B(e){var t=document.createElement('template');return t.innerHTML=e.trim(),t.content.children[0]}function m(t,e,o,r){r?t.addEventListener(e,e=>{var t;e.target&&(t=e.target.closest(r))&&o.call(t,e)}):t.addEventListener(e,e=>{o.call(t,e)})}return E.locales=function(e){return e?p[e]:p},E.addLocale=function(e,o){return['OK','CANCEL','CONFIRM'].forEach((e,t)=>{if(!o[e])throw new Error(`Please supply a translation for "${e}"`)}),p[e]={OK:o.OK,CANCEL:o.CANCEL,CONFIRM:o.CONFIRM},E},E.removeLocale=function(e){if('en'===e)throw new Error('"en" is used as the default and fallback locale and cannot be removed.');return delete p[e],E},E.setLocale=function(e){return E.setDefaults('locale',e)},E.setDefaults=function(){let e={};return 2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],Object.assign(S,e),E},E.hideAll=function(){return document.querySelectorAll('.bootbox').forEach(e=>{bootstrap.Modal.getInstance(e).hide()}),E},E.init=function(e){return t(e||o)},E.dialog=function(e){if(bootstrap.Modal===k)throw new Error('"bootstrap.Modal" is not defined; please double check you have included the Bootstrap JavaScript library. See https://getbootstrap.com/docs/5.3/getting-started/introduction/ for more details.');e=function(t){var e,o;if('object'!=typeof t)throw new Error('Please supply an object of options');if(!t.message)throw new Error('"message" option must not be null or an empty string.');(t=Object.assign({},S,t)).backdrop?t.backdrop='string'!=typeof t.backdrop||'static'!==t.backdrop.toLowerCase()||'static':t.backdrop=!1!==t.backdrop&&0!==t.backdrop&&'static';t.buttons||(t.buttons={});e=t.buttons,o=u(e);var r,a,n=0;for([r,a]of Object.entries(e)){if('function'==typeof a&&(a=e[r]={callback:a}),'object'!==Object.prototype.toString.call(a).replace(/^\[object (.+)\]$/,'$1').toLowerCase())throw new Error(`button with key "${r}" must be an object`);if(a.label||(a.label=r),!a.className){let e=!1;e=t.swapButtonOrder?0===n:n===o-1,o<=2&&e?a.className='btn-primary':a.className='btn-secondary btn-default'}n++}return t}(e),bootstrap.Modal.VERSION?(e.fullBootstrapVersion=bootstrap.Modal.VERSION,r=e.fullBootstrapVersion.indexOf('.'),e.bootstrap=e.fullBootstrapVersion.substring(0,r)):(e.bootstrap='2',e.fullBootstrapVersion='2.3.2',console.warn('Bootbox will *mostly* work with Bootstrap 2, but we do not officially support it. Please upgrade, if possible.'));let o=B(L.dialog);var t=o.querySelector('.modal-dialog'),r=o.querySelector('.modal-body'),a=B(L.header),n=B(L.footer),s=e.buttons;let i={onEscape:e.onEscape};if('string'==typeof e.message?r.querySelector('.bootbox-body').innerHTML=e.message:r.querySelector('.bootbox-body').append(e.message),0<u(e.buttons)){for(var[l,c]of Object.entries(s)){let t=B(L.button);switch(t.dataset.bbHandler=l,c.className.split(' ').forEach(e=>{t.classList.add(e)}),l){case'ok':case'confirm':t.classList.add('bootbox-accept');break;case'cancel':t.classList.add('bootbox-cancel')}t.innerHTML=c.label,c.id&&t.setAttribute({id:c.id}),!0===c.disabled&&(t.disabled=!0),n.append(t),i[l]=c.callback}r.after(n)}if(!0===e.animate&&o.classList.add('fade'),e.className&&e.className.split(' ').forEach(e=>{o.classList.add(e)}),e.id&&o.setAttribute({id:e.id}),e.size)switch(e.fullBootstrapVersion.substring(0,3)<'3.1'&&console.warn(`"size" requires Bootstrap 3.1.0 or higher. You appear to be using ${e.fullBootstrapVersion}. Please upgrade to use this option.`),e.size){case'small':case'sm':t.classList.add('modal-sm');break;case'large':case'lg':t.classList.add('modal-lg');break;case'extra-large':case'xl':t.classList.add('modal-xl'),e.fullBootstrapVersion.substring(0,3)<'4.2'&&console.warn(`Using size "xl"/"extra-large" requires Bootstrap 4.2.0 or higher. You appear to be using ${e.fullBootstrapVersion}. Please upgrade to use this option.`)}if(e.scrollable&&(t.classList.add('modal-dialog-scrollable'),e.fullBootstrapVersion.substring(0,3)<'4.3')&&console.warn(`Using "scrollable" requires Bootstrap 4.3.0 or higher. You appear to be using ${e.fullBootstrapVersion}. Please upgrade to use this option.`),(e.title||e.closeButton)&&(e.title?a.querySelector('.modal-title').innerHTML=e.title:a.classList.add('border-0'),e.closeButton&&(s=B(L.closeButton),e.bootstrap<5&&(s.innerHTML='&#215;'),e.bootstrap<4?a.prepend(s):a.append(s)),r.before(a)),e.centerVertical&&(t.classList.add('modal-dialog-centered'),e.fullBootstrapVersion<'4.0.0')&&console.warn(`"centerVertical" requires Bootstrap 4.0.0-beta.3 or higher. You appear to be using ${e.fullBootstrapVersion}. Please upgrade to use this option.`),e.reusable||(o.addEventListener('hide.bs.modal',function(){o.removeEventListener('escape.close.bb',null),o.removeEventListener('click',null)},{once:!0}),o.addEventListener('hidden.bs.modal',function(){o.remove(),o=null},{once:!0})),e.onHide){if('function'!=typeof e.onHide)throw new Error('Argument supplied to "onHide" must be a function');o.addEventListener('hide.bs.modal',e.onHide)}if(e.onHidden){if('function'!=typeof e.onHidden)throw new Error('Argument supplied to "onHidden" must be a function');o.addEventListener('hidden.bs.modal',e.onHidden)}if(e.onShow){if('function'!=typeof e.onShow)throw new Error('Argument supplied to "onShow" must be a function');m(o,'show.bs.modal',e.onShow)}if(o.addEventListener('shown.bs.modal',{dialog:o},A),e.onShown){if('function'!=typeof e.onShown)throw new Error('Argument supplied to "onShown" must be a function');m(o,'shown.bs.modal',e.onShown)}if(!0===e.backdrop){let t=!1;m(o,'mousedown',function(e){e.stopPropagation(),t=!0}),m(o,'click.dismiss.bs.modal',function(e){t||e.target!==e.currentTarget||f(o,'escape.close.bb')})}o.addEventListener('escape.close.bb',function(e){i.onEscape&&b(e,o,i.onEscape)}),o.addEventListener('click',e=>{var t;'button'!==e.target.nodeName.toLowerCase()||e.target.classList.contains('disabled')||(t=e.target.dataset.bbHandler)!==k&&b(e,o,i[t])}),document.addEventListener('click',e=>{e.target.closest('.bootbox-close-button')&&b(e,o,i.onEscape)}),o.addEventListener('keyup',function(e){27===e.which&&f(o,'escape.close.bb')}),('object'==typeof e.container?e.container:document.querySelector(e.container)).append(o);s=new bootstrap.Modal(o,{backdrop:e.backdrop,keyboard:!1,show:!1});return e.show&&s.show(e.relatedTarget),o},E.alert=function(){let e;if((e=O('alert',['ok'],['message','callback'],arguments)).callback&&'function'!=typeof e.callback)throw new Error('alert requires the "callback" property to be a function when provided');return e.buttons.ok.callback=e.onEscape=function(){return'function'!=typeof e.callback||e.callback.call(this)},E.dialog(e)},E.confirm=function(){let e;if('function'!=typeof(e=O('confirm',['cancel','confirm'],['message','callback'],arguments)).callback)throw new Error('confirm requires a callback');return e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},E.dialog(e)},E.prompt=function(){let t,o;var e,r;let a,n;if(e=B(L.form),(t=O('prompt',['cancel','confirm'],['title','callback'],arguments)).value||(t.value=S.value),t.inputType||(t.inputType=S.inputType),r=(t.show===k?S:t).show,t.show=!1,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){let e;return e='checkbox'===t.inputType?Array.from(a.querySelectorAll('input[type="checkbox"]:checked')).map(function(e){return e.value}):('radio'===t.inputType?a.querySelector('input[type="radio"]:checked'):a).value,t.callback.call(this,e)},!t.title)throw new Error('prompt requires a title');if('function'!=typeof t.callback)throw new Error('prompt requires a callback');if(!L.inputs[t.inputType])throw new Error('Invalid prompt type');switch(a=B(L.inputs[t.inputType]),t.inputType){case'text':case'textarea':case'email':case'password':a.value=t.value,t.placeholder&&a.setAttribute('placeholder',t.placeholder),t.pattern&&a.setAttribute('pattern',t.pattern),t.maxlength&&a.setAttribute('maxlength',t.maxlength),t.required&&(a.required=!0),t.rows&&!isNaN(parseInt(t.rows))&&'textarea'===t.inputType&&a.setAttribute('rows',t.rows);break;case'date':case'time':case'number':case'range':if(a.value=t.value,t.placeholder&&a.setAttribute('placeholder',t.placeholder),t.pattern?a.setAttribute('pattern',t.pattern):'date'===t.inputType?a.setAttribute('pattern','d{4}-d{2}-d{2}'):'time'===t.inputType&&a.setAttribute('pattern','d{2}:d{2}'),t.required&&(a.required=!0),'date'!==t.inputType&&t.step){if(!('any'===t.step||!isNaN(t.step)&&0<parseFloat(t.step)))throw new Error('"step" must be a valid positive number or the value "any". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');a.setAttribute('step',t.step)}!function(e,t,o){let r=!1,a=!0,n=!0;if('date'===e)t===k||(a=T(t))?o===k||(n=T(o))||console.warn('Browsers which natively support the "date" input type expect date values to be of the form "YYYY-MM-DD" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your max value may not be enforced by this browser.'):console.warn('Browsers which natively support the "date" input type expect date values to be of the form "YYYY-MM-DD" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your min value may not be enforced by this browser.');else if('time'===e){if(t!==k&&!(a=q(t)))throw new Error('"min" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');if(o!==k&&!(n=q(o)))throw new Error('"max" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.')}else{if(t!==k&&isNaN(t))throw a=!1,new Error('"min" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-min for more information.');if(o!==k&&isNaN(o))throw n=!1,new Error('"max" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.')}if(a&&n){if(o<=t)throw new Error('"max" must be greater than "min". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');r=!0}return r}(t.inputType,t.min,t.max)||(t.min!==k&&a.setAttribute('min',t.min),t.max===k)||a.setAttribute('max',t.max);break;case'select':var s,i,l,c={};if(n=t.inputOptions||[],!Array.isArray(n))throw new Error('Please pass an array of input options');if(!n.length)throw new Error('prompt with "inputType" set to "select" requires at least one option');t.required&&(a.required=!0),t.multiple&&(a.multiple=!0);for([,s]of Object.entries(n)){let e=a;if(s.value===k||s.text===k)throw new Error('each option needs a "value" property and a "text" property');s.group&&(c[s.group]||((u=B('<optgroup />')).setAttribute('label',s.group),c[s.group]=u),e=c[s.group]);var u=B(L.option);u.setAttribute('value',s.value),u.textContent=s.text,e.append(u)}for([i,l]of Object.entries(c))a.append(l);a.value=t.value,t.bootstrap<5&&(a.classList.remove('form-select'),a.classList.add('form-control'));break;case'checkbox':var p,d,b=Array.isArray(t.value)?t.value:[t.value];if(!(n=t.inputOptions||[]).length)throw new Error('prompt with "inputType" set to "checkbox" requires at least one option');a=B('<div class="bootbox-checkbox-list"></div>');for([p,d]of Object.entries(n)){if(d.value===k||d.text===k)throw new Error('each option needs a "value" property and a "text" property');var f,m,h=B(L.inputs[t.inputType]);h.querySelector('input').setAttribute('value',d.value),h.querySelector('label').append(`
`+d.text);for([f,m]of Object.entries(b))m===d.value&&(h.querySelector('input').checked=!0);a.append(h)}break;case'radio':if(t.value!==k&&Array.isArray(t.value))throw new Error('prompt with "inputType" set to "radio" requires a single, non-array value for "value"');if(!(n=t.inputOptions||[]).length)throw new Error('prompt with "inputType" set to "radio" requires at least one option');a=B('<div class="bootbox-radiobutton-list"></div>');var w,v,y=!0;for([w,v]of Object.entries(n)){if(v.value===k||v.text===k)throw new Error('each option needs a "value" property and a "text" property');var g=B(L.inputs[t.inputType]);g.querySelector('input').setAttribute('value',v.value),g.querySelector('label').append(`
`+v.text),t.value!==k&&v.value===t.value&&(y=!(g.querySelector('input').checked=!0)),a.append(g)}y&&a.querySelector('input[type="radio"]').setAttribute('checked',!0)}e.append(a),e.addEventListener('submit',function(e){e.preventDefault(),e.stopPropagation(),o.querySelector('.bootbox-accept').click()}),t.message&&''!==t.message.trim()&&(x=B(L.promptMessage).innerHTML=t.message,e.prepend(x)),t.message=e,(o=E.dialog(t)).removeEventListener('shown.bs.modal',A),o.addEventListener('shown.bs.modal',function(){a.focus()});var x=new bootstrap.Modal(o);return!0===r&&x.show(),o},E});